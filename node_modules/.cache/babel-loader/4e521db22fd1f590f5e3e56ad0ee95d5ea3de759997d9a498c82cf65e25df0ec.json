{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/bd2-system/Desktop/esi/website-vuejs/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport Vapi from 'vuex-rest-api';\nimport { baseUrls } from '@/configs';\nimport { http } from '@/utils';\n\n// Gastos Abertos\nexport default new Vapi({\n  axios: http,\n  baseURL: baseUrls.money,\n  state: {\n    yearPoints: {},\n    years: [],\n    yearInfo: null,\n    pointInfo: {},\n    updates: [],\n    page: {},\n    multiPontinfo: {}\n  }\n}).get({\n  action: 'getYearPoints',\n  property: 'yearPoints',\n  path: function path(_ref) {\n    var year = _ref.year;\n    return \"/minlist/\".concat(year, \"?state=1&capcor=1\");\n  },\n  onSuccess: function onSuccess(state, payload, axios, _ref2) {\n    var params = _ref2.params;\n    // Avoid state update if same data. This avoids map recreation.\n    if (!state.yearPoints.features || payload.data.FeatureColletion[0].properties.uid !== state.yearPoints.features[0].properties.uid) {\n      state.yearPoints = {\n        type: 'FeatureCollection',\n        features: payload.data.FeatureColletion\n      };\n    }\n  }\n}).get({\n  action: 'getYears',\n  property: 'years',\n  path: \"/info\",\n  onSuccess: function onSuccess(state, payload, axios) {\n    state.years = payload.data.data.years.reverse();\n  }\n}).get({\n  action: 'getYearInfo',\n  property: 'yearInfo',\n  path: function path(_ref3) {\n    var year = _ref3.year;\n    return \"/info/\".concat(year);\n  },\n  onSuccess: function onSuccess(state, payload, axios) {\n    state.yearInfo = payload.data.data;\n  }\n}).get({\n  action: 'getPointInfo',\n  property: 'pointInfo',\n  path: function path(_ref4) {\n    var code = _ref4.code;\n    return \"/list?code=\".concat(code);\n  },\n  onSuccess: function onSuccess(state, payload, axios) {\n    state.pointInfo = payload.data.data[0];\n  }\n}).get({\n  action: 'getMoneyPage',\n  property: 'page',\n  path: function path(_ref5) {\n    var year = _ref5.year,\n      page = _ref5.page;\n    return \"/list?year=\".concat(year, \"&page=\").concat(page, \"&per_page_num=25\");\n  },\n  onSuccess: function onSuccess(state, payload, axios) {\n    payload.data.totalRows = payload.headers['x-total-count'];\n    state.page = payload.data;\n  }\n}).get({\n  action: 'getMoneyUpdates',\n  property: 'updates',\n  path: \"/updates?per_page_num=20&has_key=state\",\n  onSuccess: function onSuccess(state, payload, axios) {\n    // Substitute strings for Dates\n    var _iterator = _createForOfIteratorHelper(payload.data.data),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var row = _step.value;\n        row.date = new Date(row.date);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    state.updates = payload.data.data;\n  }\n}).post({\n  action: 'getMultiPointInfo',\n  property: 'multiPointInfo',\n  path: \"/list\",\n  onSuccess: function onSuccess(state, payload, axios) {\n    var dict = {};\n    var _iterator2 = _createForOfIteratorHelper(payload.data.data),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var i = _step2.value;\n        dict[i.code] = i;\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    state.multiPontinfo = dict;\n  }\n}).getStore();","map":{"version":3,"names":["Vapi","baseUrls","http","axios","baseURL","money","state","yearPoints","years","yearInfo","pointInfo","updates","page","multiPontinfo","get","action","property","path","_ref","year","concat","onSuccess","payload","_ref2","params","features","data","FeatureColletion","properties","uid","type","reverse","_ref3","_ref4","code","_ref5","totalRows","headers","_iterator","_createForOfIteratorHelper","_step","s","n","done","row","value","date","Date","err","e","f","post","dict","_iterator2","_step2","i","getStore"],"sources":["/home/bd2-system/Desktop/esi/website-vuejs/src/stores/money.js"],"sourcesContent":["import Vapi from 'vuex-rest-api'\nimport { baseUrls } from '@/configs'\nimport { http } from '@/utils'\n\n// Gastos Abertos\nexport default new Vapi({\n  axios: http,\n  baseURL: baseUrls.money,\n  state: {\n    yearPoints: {},\n    years: [],\n    yearInfo: null,\n    pointInfo: {},\n    updates: [],\n    page: {},\n    multiPontinfo: {}\n  }\n}).get({\n  action: 'getYearPoints',\n  property: 'yearPoints',\n  path: ({ year }) => `/minlist/${year}?state=1&capcor=1`,\n  onSuccess: (state, payload, axios, { params }) => {\n    // Avoid state update if same data. This avoids map recreation.\n    if (!state.yearPoints.features ||\n        (payload.data.FeatureColletion[0].properties.uid !==\n         state.yearPoints.features[0].properties.uid)\n    ) {\n      state.yearPoints = {\n        type: 'FeatureCollection',\n        features: payload.data.FeatureColletion\n      }\n    }\n  }\n}).get({\n  action: 'getYears',\n  property: 'years',\n  path: `/info`,\n  onSuccess: (state, payload, axios) => {\n    state.years = payload.data.data.years.reverse()\n  }\n}).get({\n  action: 'getYearInfo',\n  property: 'yearInfo',\n  path: ({ year }) => `/info/${year}`,\n  onSuccess: (state, payload, axios) => {\n    state.yearInfo = payload.data.data\n  }\n}).get({\n  action: 'getPointInfo',\n  property: 'pointInfo',\n  path: ({ code }) => `/list?code=${code}`,\n  onSuccess: (state, payload, axios) => {\n    state.pointInfo = payload.data.data[0]\n  }\n}).get({\n  action: 'getMoneyPage',\n  property: 'page',\n  path: ({ year, page }) => `/list?year=${year}&page=${page}&per_page_num=25`,\n  onSuccess: (state, payload, axios) => {\n    payload.data.totalRows = payload.headers['x-total-count']\n    state.page = payload.data\n  }\n}).get({\n  action: 'getMoneyUpdates',\n  property: 'updates',\n  path: `/updates?per_page_num=20&has_key=state`,\n  onSuccess: (state, payload, axios) => {\n    // Substitute strings for Dates\n    for (let row of payload.data.data) {\n      row.date = new Date(row.date)\n    }\n    state.updates = payload.data.data\n  }\n}).post({\n  action: 'getMultiPointInfo',\n  property: 'multiPointInfo',\n  path: `/list`,\n  onSuccess: (state, payload, axios) => {\n    let dict = {}\n    for (let i of payload.data.data) {\n      dict[i.code] = i\n    }\n    state.multiPontinfo = dict\n  }\n}).getStore()\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
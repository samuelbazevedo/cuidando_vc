{"ast":null,"code":"import _objectSpread from \"/home/bd2-system/Desktop/esi/website-vuejs/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { mapState, mapMutations, mapActions } from 'vuex';\nimport LoginForm from '@/components/LoginForm.vue';\nimport ModalBox from '@/components/ModalBox.vue';\nimport StyledSelect from '@/components/StyledSelect.vue';\nexport default {\n  name: 'main-menu',\n  components: {\n    LoginForm: LoginForm,\n    ModalBox: ModalBox,\n    StyledSelect: StyledSelect\n  },\n  data: function data() {\n    return {\n      langs: [{\n        key: 'pt-br',\n        value: 'Português'\n      }, {\n        key: 'en',\n        value: 'English'\n      }],\n      isExpanded: false,\n      openUserList: false\n    };\n  },\n  computed: _objectSpread({\n    shareLink: function shareLink() {\n      var page = encodeURIComponent(location.origin + this.$route.fullPath);\n      return \"http://www.facebook.com/sharer.php?u=\".concat(page);\n    },\n    optionYear: function optionYear() {\n      return this.years.map(function (x) {\n        return {\n          key: x,\n          value: x\n        };\n      });\n    }\n  }, mapState({\n    username: function username(state) {\n      return state.auth.username;\n    },\n    years: function years(state) {\n      return state.money.years;\n    },\n    year: function year(state) {\n      return state.route.params.year;\n    }\n  })),\n  mounted: function mounted() {\n    this.getYears();\n  },\n  methods: _objectSpread(_objectSpread({\n    closeExpanded: function closeExpanded() {\n      this.isExpanded = false;\n    },\n    openLoginModal: function openLoginModal(event) {\n      this.closeExpanded();\n      this.openModal('login');\n    },\n    selectedLang: function selectedLang(lang) {\n      this.closeExpanded();\n      this.$i18n.locale = lang;\n    },\n    toggleListUser: function toggleListUser() {\n      this.closeExpanded();\n      this.openUserList = !this.openUserList;\n    },\n    closeListUser: function closeListUser() {\n      this.openUserList = false;\n    },\n    sendLogout: function sendLogout() {\n      this.closeExpanded();\n      this.logout();\n    },\n    selectedYear: function selectedYear(year) {\n      this.$router.push({\n        name: 'home',\n        params: {\n          year: year\n        }\n      });\n    }\n  }, mapActions(['logout', 'getYears'])), mapMutations(['openModal']))\n};","map":{"version":3,"names":["mapState","mapMutations","mapActions","LoginForm","ModalBox","StyledSelect","name","components","data","langs","key","value","isExpanded","openUserList","computed","_objectSpread","shareLink","page","encodeURIComponent","location","origin","$route","fullPath","concat","optionYear","years","map","x","username","state","auth","money","year","route","params","mounted","getYears","methods","closeExpanded","openLoginModal","event","openModal","selectedLang","lang","$i18n","locale","toggleListUser","closeListUser","sendLogout","logout","selectedYear","$router","push"],"sources":["src/components/MainMenu.vue"],"sourcesContent":["<template>\n    <nav class=\"c-navbar w-full h-16 flex items-center bg-primary-base fixed\">\n      <div class=\"container my-0 flex justify-between\">\n        <div class=\"navbar-header flex\">\n          <button type=\"button menu-mobile\"\n                  class=\"navbar-toggle collapsed\"\n                  @click=\"isExpanded = !isExpanded\"\n                  data-toggle=\"collapse\"\n                  data-target=\"#navbar\"\n                  :aria-expanded=\"isExpanded\"\n                  aria-controls=\"navbar\">\n              <span class=\"sr-only\">Toggle navigation</span>\n              <span class=\"icon-bar\"></span>\n              <span class=\"icon-bar\"></span>\n              <span class=\"icon-bar\"></span>\n          </button>\n          <router-link to=\"/\" id=\"home-button\" class=\"navbar-brand\">\n            <img :src=\"$assets.logo\" class=\"w-56\" alt=\"Cuidando do Meu Bairro\" />\n            <span class=\"beta-mark text-white uppercase text-sm font-bold align-top\">São Paulo</span>\n          </router-link>\n         \n        </div>\n        <div id=\"navbar\"\n              :class=\"{ collapse: true, 'navbar-collapse': true, in: isExpanded }\"\n              class=\"text-white font-semibold text-sm flex items-center\">\n            <ul class=\"nav navbar-nav navbar-right flex items-center\">\n              <li>\n                <router-link class=\"p-4 mx-1 hover:py-2 hover:bg-primary-dark hover:bg-opacity-80 hover:rounded\" to=\"/sobre\">{{ $t('About') }}</router-link>\n              </li>\n              <li>\n                <router-link class=\"p-4 mx-1 hover:py-2 hover:bg-primary-dark hover:bg-opacity-80 hover:rounded\" to=\"/glossario\">Aprenda +</router-link>\n              </li>\n              <li>\n                <router-link class=\"p-4 mx-1 hover:py-2 hover:bg-primary-dark hover:bg-opacity-80 hover:rounded\" to=\"/analises\">{{ $t('Analysis') }}</router-link>\n              </li>\n              <li>\n                <a href=\"http://blog.cuidando.vc\" class=\"p-4 mx-1 hover:py-2 hover:bg-primary-dark hover:bg-opacity-80 hover:rounded\" target=\"_blank\">Blog</a>\n              </li>\n              <li v-if=\"username\">\n                <button\n                  class=\"text-white bg-transparent border border-white font-medium rounded text-sm w-full px-2 py-2 text-center inline-flex items-center justify-between\"\n                  type=\"button\"\n                  v-click-outside=\"closeListUser\"\n                  @click=\"toggleListUser\"\n                >\n                  {{ username }}\n                  <svg class=\"w-4 h-4 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\n                  </svg>\n                </button>\n                <div v-if=\"openUserList\" class=\"absolute z-10 overflow-scroll scroll-smooth bg-primary-base divide-y divide-primary-dark rounded shadow w-48\">\n                    <ul class=\"py-1 text-sm text-white\">\n                      <li>\n                        <router-link class=\"block px-4 py-2 hover:bg-primary-dark cursor-pointer\" :to=\"{ name: 'pessoa', params: { viewingUser: username } }\">\n                          Perfil\n                        </router-link>\n                      </li>\n                      <li>\n                        <a class=\"block px-4 py-2 hover:bg-primary-dark cursor-pointer\" @click=\"sendLogout\" >\n                          {{ $t(\"Logout\") }}\n                        </a>\n                      </li>\n                    </ul>\n                </div>\n              </li>\n              <li v-if=\"!username\">\n                <a @click=\"openLoginModal\" class=\"px-4 mx-1 cursor-pointer py-2 border border-white hover:bg-primary-dark rounded\">\n                {{ $t(\"Login\") }}\n                </a>\n              </li>\n              <li v-if=\"year\">\n                <styled-select class=\"btn-select-year\" :options=\"optionYear\" :value=\"parseInt(year)\" @input=\"selectedYear\"/>\n              </li>\n              <!-- <li>\n                <styled-select \n                  class=\"year-selector separated-caret\"\n                  :options=\"options\"\n                  :value=\"parseInt(year)\"\n                  @input=\"selected\"\n                />\n              </li> -->\n            </ul>\n        </div>\n      </div>\n      <modal-box modal-id=\"login\">\n          <login-form />\n      </modal-box>\n    </nav>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex'\nimport LoginForm from '@/components/LoginForm.vue'\nimport ModalBox from '@/components/ModalBox.vue'\nimport StyledSelect from '@/components/StyledSelect.vue'\n\nexport default {\n  name: 'main-menu',\n  components: {\n    LoginForm,\n    ModalBox,\n    StyledSelect\n  },\n  data () {\n    return {\n      langs: [\n        { key: 'pt-br', value: 'Português' },\n        { key: 'en', value: 'English' }\n      ],\n      isExpanded: false,\n      openUserList: false\n    }\n  },\n  computed: {\n    shareLink () {\n      let page = encodeURIComponent(location.origin + this.$route.fullPath)\n      return `http://www.facebook.com/sharer.php?u=${page}`\n    },\n    optionYear () {\n      return this.years.map((x) => { return { key: x, value: x } })\n    },\n    ...mapState({\n      username: state => state.auth.username,\n      years: state => state.money.years,\n      year: state => state.route.params.year\n    })\n  },\n  mounted () {\n    this.getYears()\n  },\n  methods: {\n    closeExpanded () {\n      this.isExpanded = false\n    },\n    openLoginModal (event) {\n      this.closeExpanded()\n      this.openModal('login')\n    },\n    selectedLang (lang) {\n      this.closeExpanded()\n      this.$i18n.locale = lang\n    },\n    toggleListUser() {\n      this.closeExpanded()\n      this.openUserList = !this.openUserList\n    },\n    closeListUser () {\n      this.openUserList = false\n    },\n    sendLogout () {\n      this.closeExpanded()\n      this.logout()\n    },\n    selectedYear (year) {\n      this.$router.push({ name: 'home', params: { year } })\n    },\n    ...mapActions(['logout','getYears']),\n    ...mapMutations(['openModal'])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .c-navbar {\n    z-index: 2000;\n  }\n  .navbar-brand > img {\n  display: inline-block;\n  }\n  ::v-deep{ \n    .btn-select-year > *{\n      color: #fff;\n      border-color: #fff;\n      padding: 0.5rem;\n      margin: auto 1rem;\n      justify-content: space-around;\n    }\n  }\n</style>\n"],"mappings":";;;AA2FA,SAAAA,QAAA,EAAAC,YAAA,EAAAC,UAAA;AACA,OAAAC,SAAA;AACA,OAAAC,QAAA;AACA,OAAAC,YAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAJ,SAAA,EAAAA,SAAA;IACAC,QAAA,EAAAA,QAAA;IACAC,YAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA,GACA;QAAAC,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,EACA;MACAC,UAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA;IACAC,SAAA,WAAAA,UAAA;MACA,IAAAC,IAAA,GAAAC,kBAAA,CAAAC,QAAA,CAAAC,MAAA,QAAAC,MAAA,CAAAC,QAAA;MACA,+CAAAC,MAAA,CAAAN,IAAA;IACA;IACAO,UAAA,WAAAA,WAAA;MACA,YAAAC,KAAA,CAAAC,GAAA,WAAAC,CAAA;QAAA;UAAAjB,GAAA,EAAAiB,CAAA;UAAAhB,KAAA,EAAAgB;QAAA;MAAA;IACA;EAAA,GACA3B,QAAA;IACA4B,QAAA,WAAAA,SAAAC,KAAA;MAAA,OAAAA,KAAA,CAAAC,IAAA,CAAAF,QAAA;IAAA;IACAH,KAAA,WAAAA,MAAAI,KAAA;MAAA,OAAAA,KAAA,CAAAE,KAAA,CAAAN,KAAA;IAAA;IACAO,IAAA,WAAAA,KAAAH,KAAA;MAAA,OAAAA,KAAA,CAAAI,KAAA,CAAAC,MAAA,CAAAF,IAAA;IAAA;EACA,GACA;EACAG,OAAA,WAAAA,QAAA;IACA,KAAAC,QAAA;EACA;EACAC,OAAA,EAAAtB,aAAA,CAAAA,aAAA;IACAuB,aAAA,WAAAA,cAAA;MACA,KAAA1B,UAAA;IACA;IACA2B,cAAA,WAAAA,eAAAC,KAAA;MACA,KAAAF,aAAA;MACA,KAAAG,SAAA;IACA;IACAC,YAAA,WAAAA,aAAAC,IAAA;MACA,KAAAL,aAAA;MACA,KAAAM,KAAA,CAAAC,MAAA,GAAAF,IAAA;IACA;IACAG,cAAA,WAAAA,eAAA;MACA,KAAAR,aAAA;MACA,KAAAzB,YAAA,SAAAA,YAAA;IACA;IACAkC,aAAA,WAAAA,cAAA;MACA,KAAAlC,YAAA;IACA;IACAmC,UAAA,WAAAA,WAAA;MACA,KAAAV,aAAA;MACA,KAAAW,MAAA;IACA;IACAC,YAAA,WAAAA,aAAAlB,IAAA;MACA,KAAAmB,OAAA,CAAAC,IAAA;QAAA9C,IAAA;QAAA4B,MAAA;UAAAF,IAAA,EAAAA;QAAA;MAAA;IACA;EAAA,GACA9B,UAAA,2BACAD,YAAA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
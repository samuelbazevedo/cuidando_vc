{"ast":null,"code":"import _objectSpread from \"/home/bd2-system/Desktop/esi/website-vuejs/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { mapState, mapMutations, mapActions } from 'vuex';\nimport { formatDate } from '@/utils';\nexport default {\n  name: 'pergunta-pedido',\n  props: {\n    pedido: Object\n  },\n  components: {},\n  data: function data() {\n    return {\n      showRespostas: false\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    subscriptions: function subscriptions(state) {\n      return state.subscriptions.subscriptions;\n    },\n    pending: function pending(state) {\n      return state.subscriptions.pending;\n    },\n    username: function username(state) {\n      return state.auth.username;\n    }\n  })),\n  methods: _objectSpread(_objectSpread({\n    formatDate: formatDate\n  }, mapMutations(['openModal'])), mapActions(['subscribe', 'unsubscribe']))\n};","map":{"version":3,"names":["mapState","mapMutations","mapActions","formatDate","name","props","pedido","Object","components","data","showRespostas","computed","_objectSpread","subscriptions","state","pending","username","auth","methods"],"sources":["src/components/perguntas/PerguntaItem.vue"],"sourcesContent":["<template>\n  <li class=\"top-bar py-5 border-b border-gray-100 text-neutral-base\">\n      <div class=\"row grid grid-cols-6 gap-1\">\n          <div class=\"description mr-4 col-span-5 flex\">\n              <div class=\"icon w-20 mr-4\">\n                  <img class=\"icon\" :src=\"$assets.aPer\">\n              </div>\n              <div>\n                <div :class=\"{ '': true, '': !showRespostas }\">\n                    {{ pedido.description }}\n                </div>\n                <div v-if=\"showRespostas\" class=\"mt-5\">\n                  <div class=\"py-5 border-y border-gray-200 mb-5\">\n                    <p><b>Protocolo:</b> {{ pedido.protocol }}</p>\n                    <p><b>Órgão:</b> {{ pedido.orgao_name }}</p>\n                  </div>\n                  <div v-if=\"pedido.attachments.length\">\n                      <h3 class=\"font-semibold text-lg\">Anexos</h3>\n                      <ul>\n                          <li v-for=\"(attachment, i) in attachments\" :key=\"i\">\n                              <a :href=\"attachment.ia_url\" target=\"_blank\">{{ attachment.name }}</a>\n                          </li>\n                      </ul>\n                  </div>\n                  <h3 class=\"font-semibold text-lg\">Respostas</h3>\n                  <ul class=\"list-bare pt-3\">\n                      <li class=\"border-b border-gray-100 py-2\" v-for=\"(item, i) in pedido.history\" :key=\"i\">\n                          <div v-if=\"item.date\">\n                              <b>{{ $t('Date') }}:</b> {{ formatDate(item.date) }}\n                          </div>\n                          <div v-if=\"item.responsible\">\n                              <b>{{ $t('Responsible') }}:</b> {{ item.responsible }}\n                          </div>\n                          <div v-if=\"item.situation\">\n                              <b>{{ $t('State') }}:</b> {{ item.situation }}\n                          </div>\n                          <p>{{ item.justification }}</p>\n                      </li>\n                  </ul>\n                  <p v-if=\"!pedido.history.length\">Não há resposta</p>\n                </div>\n              </div>\n          </div>\n          <div class=\"date text-right\">\n              <div class=\"row\">\n                  <div class=\"col-xs-6\">\n                    <p>{{ pedido.request_date ? formatDate(pedido.request_date) : '' }}</p>\n                    \n                  </div>\n                  <div class=\"col-xs-6\">\n                      <router-link class=\"underline text-secondary-base cursor-pointer\" :to=\"{ name: 'pessoa', params: { viewingUser: pedido.author } }\">\n                        {{ pedido.author }}\n                      </router-link>\n                  </div>\n              </div>\n          </div>\n      </div>\n      <div class=\"mt-4 flex items-center justify-between\">\n      <div>\n        <button\n          v-if=\"pedido.allow_recurso && username === pedido.author\"\n          @click=\"openModal('recurso')\"\n          class=\"btn btn-color-sec relative text-right text-white px-3 py-2 cursor-pointer bg-secondary-light font-light hover:bg-secondary-base rounded\"\n        >\n          {{ $t('Appeal') }}\n          <span class=\"right-arrow\"/>\n        </button>\n\n        <button-spinner\n          type=\"submit\" v-if=\"!subscriptions[pedido.notification_id]\"\n          @click.prevent.native=\"subscribe({ tag: pedido.notification_id, author: pedido.notification_author })\"\n          :condition=\"pending.subscribe[pedido.notification_id]\"\n          class=\"btn btn-color-sec relative text-right text-white px-3 py-2 cursor-pointer bg-secondary-light font-light hover:bg-secondary-base rounded\"\n        >\n            {{ $t(\"Follow question\") }}\n        </button-spinner>\n\n        <button-spinner\n          type=\"submit\" v-else\n          @click.prevent.native=\"unsubscribe({ tag: pedido.notification_id })\"\n          :condition=\"pending.unsubscribe[pedido.notification_id]\"\n          class=\"btn btn-color-sec relative text-right text-white px-3 py-2 cursor-pointer bg-secondary-light font-light hover:bg-secondary-base rounded\"\n          >\n            {{ $t(\"Unfollow question\") }}\n        </button-spinner>\n      </div>\n      <div class=\"text-right\"\n        v-if=\"!showRespostas\"\n      >\n          <a @click=\"showRespostas = true\" class=\"underline text-secondary-base cursor-pointer inline-flex items-center\">\n              {{ pedido.history.length }}\n              {{ pedido.history.length-1 > 1 ? $t('Respostas') : $t('Resposta') }}\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 17l-4 4m0 0l-4-4m4 4V3\"></path></svg>\n          </a>\n      </div>\n      <div v-else>\n          <a @click=\"showRespostas = false\" class=\"underline text-secondary-base cursor-pointer inline-flex items-center\">\n              {{ $t('hide') }}\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7l4-4m0 0l4 4m-4-4v18\"></path></svg>\n          </a>\n      </div>\n    </div> \n  </li>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex'\nimport { formatDate } from '@/utils'\nexport default {\n  name: 'pergunta-pedido',\n  props: {\n    pedido: Object\n  },\n  components: {\n  },\n  data () {\n    return {\n      showRespostas: false\n    }\n  },\n  computed: {\n    ...mapState({\n      subscriptions: state => state.subscriptions.subscriptions,\n      pending: state => state.subscriptions.pending,\n      username: state => state.auth.username\n    })\n  },\n  methods: {\n    formatDate,\n    ...mapMutations(['openModal']),\n    ...mapActions(['subscribe', 'unsubscribe'])\n  }\n}\n</script>\n"],"mappings":";AA0GA,SAAAA,QAAA,EAAAC,YAAA,EAAAC,UAAA;AACA,SAAAC,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,MAAA,EAAAC;EACA;EACAC,UAAA,GACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,aAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,KACAZ,QAAA;IACAa,aAAA,WAAAA,cAAAC,KAAA;MAAA,OAAAA,KAAA,CAAAD,aAAA,CAAAA,aAAA;IAAA;IACAE,OAAA,WAAAA,QAAAD,KAAA;MAAA,OAAAA,KAAA,CAAAD,aAAA,CAAAE,OAAA;IAAA;IACAC,QAAA,WAAAA,SAAAF,KAAA;MAAA,OAAAA,KAAA,CAAAG,IAAA,CAAAD,QAAA;IAAA;EACA,GACA;EACAE,OAAA,EAAAN,aAAA,CAAAA,aAAA;IACAT,UAAA,EAAAA;EAAA,GACAF,YAAA,kBACAC,UAAA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
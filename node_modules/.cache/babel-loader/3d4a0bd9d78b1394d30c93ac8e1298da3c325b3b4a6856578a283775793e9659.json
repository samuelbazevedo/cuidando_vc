{"ast":null,"code":"import _toConsumableArray from \"/home/bd2-system/Desktop/esi/website-vuejs/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/home/bd2-system/Desktop/esi/website-vuejs/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { mapState } from 'vuex';\nimport { formatCur } from '@/utils';\nexport default {\n  name: 'dynamic-table',\n  data: function data() {\n    return {\n      per_page_num: 25\n    };\n  },\n  computed: _objectSpread({\n    lastPage: function lastPage() {\n      // Calculate last page\n      return Math.floor(this.pageData.totalRows / this.per_page_num);\n    },\n    pageIndexes: function pageIndexes() {\n      var _this = this;\n      // Page index numbers\n      var numShownPages = 5;\n      return Array.apply(void 0, _toConsumableArray(Array(numShownPages))).map(function (_, i) {\n        return i + _this.currPage - Math.floor(numShownPages / 2);\n      }).filter(function (i) {\n        return i > 1 && i < _this.lastPage;\n      });\n    },\n    currPage: function currPage() {\n      return this.routePage !== undefined ? parseInt(this.routePage) : 1;\n    }\n  }, mapState({\n    pageData: function pageData(state) {\n      return state.money.page;\n    },\n    routePage: function routePage(state) {\n      return state.route.params.page;\n    }\n  })),\n  methods: {\n    formatCur: formatCur,\n    calcPlanejado: function calcPlanejado(orcado, atualizado) {\n      return atualizado || orcado;\n    }\n  }\n};","map":{"version":3,"names":["mapState","formatCur","name","data","per_page_num","computed","_objectSpread","lastPage","Math","floor","pageData","totalRows","pageIndexes","_this","numShownPages","Array","apply","_toConsumableArray","map","_","i","currPage","filter","routePage","undefined","parseInt","state","money","page","route","params","methods","calcPlanejado","orcado","atualizado"],"sources":["src/components/DynamicTable.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"table-responsive\">\n        <div class=\"flex flex-col\">\n          <div class=\"overflow-x-auto sm:-mx-6 lg:-mx-8\">\n            <div class=\"py-2 inline-block min-w-full sm:px-6 lg:px-8\">\n              <div class=\"overflow-hidden\">\n                <table class=\"min-w-full\">\n                  <thead class=\"bg-white border-b\">\n                    <tr>\n                      <th class=\"text-left text-neutral-base px-6 py-4\">{{ $t('description') }}</th>\n                      <th scope=\"col\" class=\"text-sm font-medium text-neutral-base px-6 py-4 text-left\">\n                        {{ $t('planned') }}\n                      </th>\n                      <th scope=\"col\" class=\"text-sm font-medium text-neutral-base px-6 py-4 text-left\">\n                        {{ $t('committed') }}\n                      </th>\n                      <th scope=\"col\" class=\"text-sm font-medium text-neutral-base px-6 py-4 text-left\">\n                        {{ $t('finished') }}\n                      </th>\n                      <th scope=\"col\" class=\"text-sm font-medium text-neutral-base px-6 py-4 text-left\">\n                        {{ $t('body') }}\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(row, i) in pageData.data\" :key=\"i\" class=\"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100\">\n                      <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-base underline\">\n                        <router-link :to=\"{ name: 'despesa', params: { code: row.code } }\">\n                          {{ row.ds_projeto_atividade }}\n                        </router-link>\n                      </td>\n                      <td class=\"text-sm text-neutral-base font-light px-6 py-4 whitespace-nowrap\">\n                        {{ formatCur(calcPlanejado((row.sld_orcado_ano ? row.sld_orcado_ano : row.vl_orcado_ano), row.vl_atualizado)) }}\n                      </td>\n                      <td class=\"text-sm text-neutral-base font-light px-6 py-4 whitespace-nowrap\">\n                        {{ formatCur(row.vl_empenhadoliquido) }}\n                      </td>\n                      <td class=\"text-sm text-neutral-base font-light px-6 py-4 whitespace-nowrap\">\n                        {{ formatCur(row.vl_liquidado) }}\n                      </td>\n                      <td class=\"text-sm text-neutral-base font-light px-6 py-4 whitespace-nowrap\">\n                        {{ row.ds_orgao }}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n    </div>\n    <nav aria-label=\"Table navigation\" class=\"mt-5 mb-10 flex justify-end\">\n      <ul class=\"inline-flex -space-x-px\">\n      <li aria-controls=\"my-table\">\n          <router-link :to=\"{ params: { page: 1 } }\"\n            class=\"py-2 px-3 leading-tight text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700\"\n            :class=\"{ 'bg-gray-100': currPage === 1 }\">{{ $t('first') }}</router-link>\n        </li>\n        <li>\n          <router-link v-for=\"num in pageIndexes\" :key=\"num\"\n            :to=\"{ params: { page: num } }\"\n            :class=\"{ 'bg-gray-100': num === currPage }\"\n            class=\"py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700\"\n            role=\"button\">{{ num }}</router-link>\n        </li>\n        <li>\n          <router-link\n            :to=\"{ params: { page: lastPage } }\"\n            class=\"py-2 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700\"\n            :class=\"{ 'bg-gray-100': currPage === lastPage }\"\n          >{{ $t('last') }}</router-link>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { formatCur } from '@/utils'\n\nexport default {\n  name: 'dynamic-table',\n  data () {\n    return {\n      per_page_num: 25\n    }\n  },\n  computed: {\n    lastPage () {\n      // Calculate last page\n      return Math.floor(this.pageData.totalRows / this.per_page_num)\n    },\n    pageIndexes () {\n      // Page index numbers\n      let numShownPages = 5\n      return Array(...Array(numShownPages))\n        .map((_, i) => i + this.currPage - Math.floor(numShownPages / 2))\n        .filter(i => i > 1 && i < this.lastPage)\n    },\n    currPage () {\n      return this.routePage !== undefined ? parseInt(this.routePage) : 1\n    },\n    ...mapState({\n      pageData: state => state.money.page,\n      routePage: state => state.route.params.page\n    })\n  },\n  methods: {\n    formatCur,\n    calcPlanejado (orcado, atualizado) {\n      return atualizado || orcado\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;AA+EA,SAAAA,QAAA;AACA,SAAAC,SAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,YAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA;IACAC,QAAA,WAAAA,SAAA;MACA;MACA,OAAAC,IAAA,CAAAC,KAAA,MAAAC,QAAA,CAAAC,SAAA,QAAAP,YAAA;IACA;IACAQ,WAAA,WAAAA,YAAA;MAAA,IAAAC,KAAA;MACA;MACA,IAAAC,aAAA;MACA,OAAAC,KAAA,CAAAC,KAAA,SAAAC,kBAAA,CAAAF,KAAA,CAAAD,aAAA,IACAI,GAAA,WAAAC,CAAA,EAAAC,CAAA;QAAA,OAAAA,CAAA,GAAAP,KAAA,CAAAQ,QAAA,GAAAb,IAAA,CAAAC,KAAA,CAAAK,aAAA;MAAA,GACAQ,MAAA,WAAAF,CAAA;QAAA,OAAAA,CAAA,QAAAA,CAAA,GAAAP,KAAA,CAAAN,QAAA;MAAA;IACA;IACAc,QAAA,WAAAA,SAAA;MACA,YAAAE,SAAA,KAAAC,SAAA,GAAAC,QAAA,MAAAF,SAAA;IACA;EAAA,GACAvB,QAAA;IACAU,QAAA,WAAAA,SAAAgB,KAAA;MAAA,OAAAA,KAAA,CAAAC,KAAA,CAAAC,IAAA;IAAA;IACAL,SAAA,WAAAA,UAAAG,KAAA;MAAA,OAAAA,KAAA,CAAAG,KAAA,CAAAC,MAAA,CAAAF,IAAA;IAAA;EACA,GACA;EACAG,OAAA;IACA9B,SAAA,EAAAA,SAAA;IACA+B,aAAA,WAAAA,cAAAC,MAAA,EAAAC,UAAA;MACA,OAAAA,UAAA,IAAAD,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}